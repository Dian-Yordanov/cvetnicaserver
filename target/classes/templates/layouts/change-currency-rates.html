<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head> 
    <title>Getting Started: Handling Form Submission</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script>
    function changeCurrencyFrom(selectObject) {
        var value = selectObject.value;
        console.log(value);
        var x = document.getElementById(value).textContent;
        console.log(x);
        document.getElementById("inputField").value = x;

    }
</script>

</head>

<th:block layout:fragment="content">
<body>

<h2 >Current value of currencies compared to 1 lev</h2>
<br>
<strong th:text="${currencyNameDollar}">cc</strong>
<br>
<strong id="Dollar" th:text="${valueDollar}">cc</strong>
<br>
<strong th:text="${currencyNameEuro}">cc</strong>
<br>
<strong id="Euro" th:text="${valueEuro}">cc</strong>
<br>
<strong th:text="${currencyNamePoundsterling}">cc</strong>
<br>
<strong id="Pound sterling" th:text="${valuePoundsterling}">cc</strong>
<br>
<strong th:text="${currencyNameJapaneseYen}">cc</strong>
<br>
<strong id="Japanese Yen" th:text="${valueJapaneseYen}">cc</strong>

<br><br>
<!--action="#" th:action="@{/currencyDataInputURL}" th:object="${input}" method="post"-->
<!--th:object="${input}"-->
<h2>Select a new value of currencies compared to 1 lev</h2>
<br>
<form action="#" th:action="@{/change-currency-rates}" th:object="${viewInformationObject}" method="post">

    <select name="currencyTo" id="currencyTo" th:field="*{content}" onchange='changeCurrencyFrom(this)' method="post">
        <option value="Dollar">Dollar</option>
        <option value="Pound sterling">Pound sterling</option>
        <option value="Euro">Euro</option>
        <option value="Japanese Yen">Japanese Yen</option>
    </select>
    <input type="text" id="inputField" th:field="*{id}" />
<!--    <strong th:text="${valueDollar}">cc</strong></input>-->

    <!--    <p>Message: <input type="text" placeholder="string" th:field="*{content}" /></p>-->
    <p><input type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>
</form>

<br>

<!--<h1>Form</h1>-->
<!--<form action="#" th:action="@{/change-currency-rates}" th:object="${input}" method="post">-->
<!--    <p>Id: <input type="text" th:field="*{id}" /></p>-->
<!--    <p>Message: <input type="text" th:field="*{content}" /></p>-->
<!--    <p><input type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>-->
<!--</form>-->

<body onload='var x = document.getElementById("Dollar").textContent;document.getElementById("inputField").value = x;'>

</body>

</th:block>

</html>
